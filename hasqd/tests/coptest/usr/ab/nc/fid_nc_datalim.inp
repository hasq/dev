node0 = [ 127.0.0.1:14000 ]
node1 = [ 127.0.0.1:14001 ]

print ex 0 OK 500 tcp node1 [ ping ] 

ex 0 OK 500 tcp node0 { [ connect ] node1 }
ex 0 OK 500 tcp node1 { [ connect ] node0 }

print ex 1 node1 500 tcp node0 { [ info nbs ] sleep 30  }
print ex 1 node0 500 tcp node1 { [ info nbs ] sleep 30  }

ex 0 OK 500 tcp node0  { [ z * _b 0 [rdn] [k] 111 ] }
print ex 1 0 500 tcp node0 { [ lastdata _b ] hash md5 [ rdn ] [ 0 ] }
print ex 0 OK 500 tcp node1 { [ note _b 0 ] hash md5 [ rdn ] }
print ex 1 0 500 tcp node1 { [ lastdata _b ] hash md5 [ rdn ] [ 0 ] }

ex 0 OK 500 tcp node0  { [ z * _k 0 [rdn] [k] 111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111 ] }
print ex 1 0 500 tcp node0 { [ lastdata _k ] hash md5 [ rdn ] [ 0 ] }
print ex 0 OK 500 tcp node1 { [ note _k 0 ] hash md5 [ rdn ] }
print ex 1 0 500 tcp node1 { [ lastdata _k ] hash md5 [ rdn ] [ 0 ] }


#ex 0 OK 500 tcp node0  { [ z * _m 0 [rdn] [k] more than 2097152 signs must be here ] }
#print ex 1 0 500 tcp node0 { [ lastdata _m ] hash md5 [ rdn ] [ 0 ] }
#print ex 0 OK 500 tcp node1 { [ note _m 0 ] hash md5 [ rdn ] }
#print ex 1 0 500 tcp node1 { [ lastdata _m ] hash md5 [ rdn ] [ 0 ] }

ex 0 OK 500 tcp node0  { [ z * _wrd 0 [rdn] [k] 11111111111 ] }
print ex 1 0 500 tcp node0 { [ lastdata _wrd ] hash wrd [ rdn ] [ 0 ] }
print ex 0 OK 500 tcp node1 { [ note _wrd 0 ] hash md5 [ rdn ] }
print ex 1 0 500 tcp node1 { [ lastdata _wrd ] hash wrd [ rdn ] [ 0 ] }

ex 0 OK 500 tcp node0  { [ z * _md5 0 [rdn] [k] 111111111111111111111111111111111111111111111111111111111111111111 ] }
print ex 1 0 500 tcp node0 { [ lastdata _md5 ] hash md5 [ rdn ] [ 0 ] }
print ex 0 OK 500 tcp node1 { [ note _md5 0 ] hash md5 [ rdn ] }
print ex 1 0 500 tcp node1 { [ lastdata _md5 ] hash md5 [ rdn ] [ 0 ] }

ex 0 OK 500 tcp node0  { [ z * _r16 0 [rdn] [k] 11111111111111111111111111111111111111111111111111111111111111111111111111111111111 ] }
print ex 1 0 500 tcp node0 { [ lastdata _r16 ] hash r16 [ rdn ] [ 0 ] }
print ex 0 OK 500 tcp node1 { [ note _r16 0 ] hash md5 [ rdn ] }
print ex 1 0 500 tcp node1 { [ lastdata _r16 ] hash r16 [ rdn ] [ 0 ] }

ex 0 OK 500 tcp node0  { [ z * _s22 0 [rdn] [k] 11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111 ] }
print ex 1 0 500 tcp node0 { [ lastdata _s22 ] hash s22 [ rdn ] [ 0 ] }
print ex 0 OK 500 tcp node1 { [ note _s22 0 ] hash md5 [ rdn ] }
print ex 1 0 500 tcp node1 { [ lastdata _s22 ] hash s22 [ rdn ] [ 0 ] }

ex 0 OK 500 tcp node0  { [ z * _s25 0 [rdn] [k] 1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111 ] }
print ex 1 0 500 tcp node0 { [ lastdata _s25 ] hash s25 [ rdn ] [ 0 ] }
print ex 0 OK 500 tcp node1 { [ note _s25 0 ] hash md5 [ rdn ] }
print ex 1 0 500 tcp node1 { [ lastdata _s25 ] hash s25 [ rdn ] [ 0 ] }

expect 0 OK 500 tcp node1 [ quit ] 
quit